# AUTOSAR user application monitor environment

AUTOSAR_AP_PREFIX="__AUTOSAR_AP_PREFIX__"
AUTOSAR_USER_APP_MONITOR_BIN="__AUTOSAR_AP_PREFIX__/bin/autosar_user_app_monitor"

# Registry generated by bringup.sh
AUTOSAR_USER_APP_REGISTRY_FILE="/run/autosar/user_apps_registry.csv"
# Monitor output status file
AUTOSAR_USER_APP_MONITOR_STATUS_FILE="/run/autosar/user_app_monitor.status"
# PHM health status files generated by ara::phm::HealthChannel
AUTOSAR_PHM_HEALTH_DIR="/run/autosar/phm/health"

# Polling period in milliseconds
AUTOSAR_USER_APP_MONITOR_PERIOD_MS="1000"
# Grace period added to per-app heartbeat timeout
AUTOSAR_USER_APP_HEARTBEAT_GRACE_MS="500"
# Grace period after app start/restart to ignore transient supervision failures
AUTOSAR_USER_APP_MONITOR_STARTUP_GRACE_MS="3000"
# Minimum delay between restart attempts for one app
AUTOSAR_USER_APP_MONITOR_RESTART_BACKOFF_MS="1000"
# Kill stale heartbeat processes automatically
AUTOSAR_USER_APP_MONITOR_ENFORCE_HEALTH="true"
# Run restart recovery action for failed apps
AUTOSAR_USER_APP_MONITOR_RESTART_ON_FAILURE="true"
# Treat PHM status kDeactivated as healthy for intentional stop flow
AUTOSAR_USER_APP_MONITOR_ALLOW_DEACTIVATED_AS_HEALTHY="true"
# TERM | KILL | INT | HUP or numeric signal
AUTOSAR_USER_APP_MONITOR_KILL_SIGNAL="TERM"
